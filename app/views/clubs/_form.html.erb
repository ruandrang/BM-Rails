<%= form_with model: @club, local: true, class: "space-y-6" do |form| %>
  <% if @club.errors.any? %>
    <div class="alert alert-error shadow-lg">
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <div>
          <h3 class="font-bold"><%= t('common.input_error') %></h3>
          <ul class="text-sm list-disc list-inside">
            <% @club.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      </div>
    </div>
  <% end %>

  <div class="form-control w-full">
    <%= form.label :name, t('clubs.form.name_label'), class: "label" %>
    <%= form.text_field :name,
        required: true,
        placeholder: t('clubs.form.name_placeholder'),
        class: "input input-bordered w-full" %>
    <label class="label">
      <span class="label-text-alt text-base-content/60"><%= t('clubs.form.name_hint') %></span>
    </label>
  </div>

  <!-- 정기 운동 요일 -->
  <div class="form-control w-full">
    <%= form.label :meeting_days, t('clubs.form.meeting_days_label'), class: "label" %>
    <div class="flex flex-wrap gap-2">
      <% Club::MEETING_DAYS.each do |day| %>
        <label class="cursor-pointer">
          <%= check_box_tag "club[meeting_days][]", day, @club.meeting_days&.include?(day), class: "peer hidden" %>
          <span class="btn btn-sm w-12 bg-base-100 peer-checked:bg-primary peer-checked:text-white peer-checked:border-primary peer-checked:hover:bg-primary/70">
            <%= day %>
          </span>
        </label>
      <% end %>
    </div>
    <label class="label">
      <span class="label-text-alt text-base-content/60"><%= t('clubs.form.meeting_days_hint') %></span>
    </label>
  </div>

  <!-- 클럽 소개 -->
  <div class="form-control w-full">
    <%= form.label :description, t('clubs.form.description_label'), class: "label" %>
    <%= form.text_area :description,
        rows: 3,
        placeholder: t('clubs.form.description_placeholder'),
        class: "textarea textarea-bordered w-full" %>
  </div>

  <!-- 클럽 아이콘 선택 -->
  <div class="form-control w-full">
    <label class="label">
      <span class="label-text font-medium"><%= t('clubs.form.icon_label') %></span>
    </label>
    <div class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-3">
      <% Club::ICONS.each do |icon| %>
        <label class="cursor-pointer">
          <input type="radio" name="club[icon]" value="<%= icon %>"
                 class="hidden peer"
                 <%= "checked" if @club.icon == icon || (@club.new_record? && Club::ICONS.first == icon) %>>
          <div class="card bg-base-200 hover:bg-base-300 peer-checked:bg-primary peer-checked:text-primary-content transition-all duration-200 peer-checked:ring-2 peer-checked:ring-primary">
            <div class="card-body items-center p-4">
              <span class="text-4xl"><%= club_icon(icon) %></span>
            </div>
          </div>
        </label>
      <% end %>
    </div>
  </div>

  <!-- 제출 버튼 -->
  <div class="form-control mt-8">
    <%= form.submit @club.new_record? ? t('clubs.form.submit_create') : t('common.save'),
        class: "btn btn-primary btn-lg w-full gap-2" %>
  </div>
<% end %>
